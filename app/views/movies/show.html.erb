<video class="mejs-player" id="video" width="800" height="500">
  <source src="<%= @video.path %>" type="video/mp4">
  <% @translates.each do |translate| %>
    <track src="/trads/<%= translate.path %>" kind="subtitles" srclang="<%= translate.label %>" label="<%= translate.label %>">
  <% end %>
</video>
<script>
  $(document).ready(function () {
    $('#video').mediaelementplayer({
      success: function (media) {
        $(media).closest('.media-wrapper').children('div:first').attr('lang', mejs.i18n.language());
        var renderer = $('#' + media.id + '-rendername');
        media.addEventListener('error', function (e) {
          renderer.find('.error').html('<strong>Error</strong>: ' + e.message);
        }, false);
      }
    });
  });
</script>
<%# query = params[:id] %>